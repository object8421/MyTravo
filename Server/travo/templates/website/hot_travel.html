{% extends "website/base_index.html" %}
{% block title %}热门游记{% endblock %}
{% block content %}

<div class="container" >

	 <!-- 热门游记 -->

<!--
<div class="col-md-12" style=" padding-left:5px;margin-bottom:50px;margin-top:50px;">
<div class="col-md-2" style="padding:0;">
<button type="button" onclick="javascript:window.location.href='{%url 'hot_travel'%}' " class="btn btn-primary btn-lg btn-block" style="border-radius:2px;">热    门    游    记</button>  
 
</div>
</div>
-->

<div class="page-header">
  <h1>热门游记 <small>Hot travels</small></h1>
</div>

<!-- 一篇游记从这里开始 -->

{% for travel in travel_list %}
<div class="col-md-6">
<div class="col-md-12 alert alert-info"  style="padding:0; padding-top:20px;">
<div class="col-md-2" style="margin:0;padding-right:5px;">
  <div class="col-md-12" align="center">
  {%if travel.user.face_path%}
   <img src="http://travo-user-avatar.oss-cn-hangzhou.aliyuncs.com/{{travel.user.face_path}}" alt="..." class="img" style="width:70px; height:70px; margin=0;">
   {% else %}
   <img src="/static/travo/image/avatar_default.jpg" alt="..." class="img" style="width:70px; height:70px; margin=0;">
   {% endif %}
 </div>
   <div class="col-md-12" align="center">
    {% ifequal travel.user.token request.session.token%}
                    <a href="{%url 'me'%}" >{{travel.user.nickname}}</a>
                    {% else %}
                    <a href="{%url 'others' travel.user.id %}" >{{travel.user.nickname}}</a>
                    {% endifequal %}
   </div>
</div>
<div class="col-md-10" style=" margin:0;">
<div class="panel panel-default" style="padding:0;border:0;">
  <div class="panel-body" style="padding:0;border:0;">
     <!--<img src="../../static/travo/image/welcome_bg6.jpg" alt="..." class="img-rounded" style="width:100%; height:400px; margin:0; border-radius:2px;">-->
     {% if travel.cover_path %}
     <div id="cobra-image{{ forloop.counter }}" class="cobra-image" style="width:100%; height:250px; background:url(http://travo-travel-cover.oss-cn-hangzhou.aliyuncs.com/{{travel.cover_path}}) no-repeat center;background-size:cover;border:1px solid #eeeeee;">
        <div id="cobra-fucking-content{{ forloop.counter }}" class="cobra-image-content" vertical-align="middle">
        <h2>{{travel.title}}</h2>
        <h4>{{travel.create_time | date:"Y-m-d"}}</h4>
        <h4>{{travel.description}}</h4>
        </div>
      </div>
      {% else %}
       <div id="cobra-image{{ forloop.counter }}" class="cobra-image" style="width:100%; height:250px; background:url('/static/travo/image/travel_default.jpg') no-repeat center;background-size:cover;border:1px solid #eeeeee;">
        <div id="cobra-fucking-content{{ forloop.counter }}" class="cobra-image-content" vertical-align="middle">
        <h2>{{travel.title}}</h2>
        <h4>{{travel.create_time | date:"Y-m-d"}}</h4>
        <h4>{{travel.description}}</h4>
        </div>
      </div>

      {% endif %}
    
  </div>
  <div class="panel-footer" align="left" style="border:0;padding-bottom:0;">
        <table class="table" >
          {% if travel.title %}
              <div class="col-md-7">
                <a href="{%url 'detail_travel' travel.id %}"><p>{{travel.title}}</p></a>
              </div>
              {% else %}
              <div class="col-md-7">
                <a href="{%url 'detail_travel' travel.id %}"><p>暂无游记标题</p></a>
              </div>
              {% endif %}
                          
              <div class="col-md-5">
             	               
                 	<div class="col-md-6" style="float:left;padding-right:0;"><span class="glyphicon glyphicon-heart"></span> {{travel.favorite_qty}}</div>
            
                	<div class="col-md-6" style="float:left;padding-right:0;margin-right:0;"><span class="glyphicon glyphicon-comment "></span> {{travel.comment_qty}}</div>
            
            </div>
              
          </table>
                  
   </div>
</div>
</div><!--  这是三分之一的span (1)end-->
</div><!-- end of row --></div>

{% endfor %}

<div class="row">
  <div class="col-md-12" align="center">
    <div class="pagination">
{% if travel_list.has_previous %}
        <li><a class='paginator' title='上一页' href='?page={{ travel_list.previous_page_number }}'>&laquo;</a></li>
 {% endif %}
 {% for page in travel_list.paginator.page_range %}
     {% if page = travel_list.number %}
         <li><a class='paginator_current' title='当前页:{{ page }}'>{{ page }}</a></li>
     {% else %}
         <li><a class='paginator' href='?page={{ page }}' title='{{ page }}'>{{ page }}</a></li>
     {% endif %}
 {% endfor %}
 {% if travel_list.has_next %}
     <li><a class='paginator' title='下一页' href='?page={{ travel_list.next_page_number }}'>&raquo;</a></li>
 {% endif %}
</div>
</div>
</div>
<!--<div class="row col-md-12">
<p id="content1">Dynamic page content</p>
<p id="pagination-here"></p>
</div>-->










</div><!-- end container -->

{% endblock %}
{% block myscript%}

<script type="text/javascript">
$(function(){
    $(".cobra-image-content").hide();
});
  
   
</script>
<script type="text/javascript">
$(document).ready(function() {
    $('.cobra-image').hover(function() {
        $('.cobra-image-content', this).fadeIn(100);
        // $(this).find('.itemDescription').show();
    }, function() {
        $('.cobra-image-content', this).fadeOut(100);
    });
}); 
</script>
<script type="text/javascript">
// $('#pagination-here').bootpag({
//     total: 7,          // total pages
//     page: 1,            // default page
//     maxVisible: 5,     // visible pagination
//     leaps: true         // next/prev leaps through maxVisible
// }).on("page", function(event, num){
//     $("#content1").html("Page " + num); // or some ajax content loading...
//     // ... after content load -> change total to 10
//     $(this).bootpag({total: 7, maxVisible: 10});
// }); 

</script>

{% endblock %}